#!/usr/bin/env node

var program = require('commander')

program
  .description('run stutter js program')
  .usage('[options] <file>')
  .arguments('<file>')
  .action(function(file, options) {
    var run = require('../').commands.run
    run(file, options)
      .then(function() {
        process.exit()
      })
      .catch(function() {
        process.exit(1)
      })
  })
  .parse(process.argv)

if (!program.args.length) {
  var repl = require('../').commands.repl
  repl(null, program)
    .then(function() {
      process.exit()
    })
    .catch(function() {
      process.exit(1)
    })
}
